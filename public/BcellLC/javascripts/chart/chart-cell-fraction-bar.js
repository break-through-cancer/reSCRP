// Set new default font family and font color to mimic Bootstrap's default styling
var pcolor1 = "#DA291C";
var pcolor2 = "#000000";
var pcolor3 = "#63666A";

var color1 = "#614B79";
var color2 = "#789D4A";
var color3 = "#407EC9";
var color4 = "#CB6015";
var color5 = "#F1B434";
var color6 = "#ED8B00";
var color7 = "#B7BF10";

var color1cc = "#614B79CC";
var color2cc = "#789D4ACC";
var color3cc = "#407EC9CC";
var color4cc = "#CB6015CC";
var color5cc = "#F1B434CC";
var color6cc = "#ED8B00CC";
var color7cc = "#B7BF10CC";

Chart.defaults.global.defaultFontFamily = "Nunito";
Chart.defaults.global.defaultFontColor = pcolor3;
var ctx = document.getElementById("CellFractionBar");

var myCellFracChart = new Chart(ctx, {
    type: "bar",
    data: {
        labels: [
            "Distant",
            "Intermediate",
            "Adjacent",
            "Tumor",
        ],
        datasets: [
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.333333333333333,0,0.25,0.630769230769231],
                cellNumber: [18,0,5,369],
                stack: 'P1',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0,0,0,0.0136752136752137],
                cellNumber: [0,0,0,8],
                stack: 'P1',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.407407407407407,0,0.1,0.0564102564102564],
                cellNumber: [22,0,2,33],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.185185185185185,0,0.15,0.11965811965812],
                cellNumber: [10,0,3,70],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0,0,0.0222222222222222],
                cellNumber: [0,0,0,13],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0,0,0.00512820512820513],
                cellNumber: [0,0,0,3],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0740740740740741,0,0.25,0.0512820512820513],
                cellNumber: [4,0,5,30],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0,0,0,0.0273504273504274],
                cellNumber: [0,0,0,16],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0,0,0.05,0.00683760683760684],
                cellNumber: [0,0,1,4],
                stack: 'P1',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0,0,0.1,0.0205128205128205],
                cellNumber: [0,0,2,12],
                stack: 'P1',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0.00341880341880342],
                cellNumber: [0,0,0,2],
                stack: 'P1',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0,0.1,0.0427350427350427],
                cellNumber: [0,0,2,25],
                stack: 'P1',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.178343949044586,0.182608695652174,0.0476190476190476,0.227476038338658],
                cellNumber: [28,21,3,712],
                stack: 'P2',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0127388535031847,0.0173913043478261,0,0.00862619808306709],
                cellNumber: [2,2,0,27],
                stack: 'P2',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.00636942675159236,0.0347826086956522,0,0.0150159744408946],
                cellNumber: [1,4,0,47],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.343949044585987,0.243478260869565,0.365079365079365,0.271884984025559],
                cellNumber: [54,28,23,851],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0509554140127389,0.0347826086956522,0.0634920634920635,0.10223642172524],
                cellNumber: [8,4,4,320],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.0127388535031847,0.0347826086956522,0.0158730158730159,0.0162939297124601],
                cellNumber: [2,4,1,51],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.171974522292994,0.0782608695652174,0.126984126984127,0.133226837060703],
                cellNumber: [27,9,8,417],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0382165605095541,0.0260869565217391,0.126984126984127,0.0862619808306709],
                cellNumber: [6,3,8,270],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.0700636942675159,0.0956521739130435,0.0793650793650794,0.0210862619808307],
                cellNumber: [11,11,5,66],
                stack: 'P2',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0764331210191083,0.226086956521739,0.126984126984127,0.073482428115016],
                cellNumber: [12,26,8,230],
                stack: 'P2',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0.00869565217391304,0,0.0060702875399361],
                cellNumber: [0,1,0,19],
                stack: 'P2',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.0382165605095541,0.0173913043478261,0.0476190476190476,0.0383386581469649],
                cellNumber: [6,2,3,120],
                stack: 'P2',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.605769230769231,0.313725490196078,0.395348837209302,0.104922279792746],
                cellNumber: [63,16,17,243],
                stack: 'P3',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.115384615384615,0,0,0.00302245250431779],
                cellNumber: [12,0,0,7],
                stack: 'P3',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.0769230769230769,0.0196078431372549,0,0.00949913644214162],
                cellNumber: [8,1,0,22],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0769230769230769,0.117647058823529,0.325581395348837,0.334628670120898],
                cellNumber: [8,6,14,775],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0.0392156862745098,0.0232558139534884,0.149827288428325],
                cellNumber: [0,2,1,347],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0,0,0.00949913644214162],
                cellNumber: [0,0,0,22],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0288461538461538,0.372549019607843,0.209302325581395,0.172279792746114],
                cellNumber: [3,19,9,399],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0384615384615385,0.0392156862745098,0.0232558139534884,0.0427461139896373],
                cellNumber: [4,2,1,99],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.00961538461538462,0.0392156862745098,0.0232558139534884,0.020293609671848],
                cellNumber: [1,2,1,47],
                stack: 'P3',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.00961538461538462,0,0,0.0112262521588946],
                cellNumber: [1,0,0,26],
                stack: 'P3',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0.0192307692307692,0,0,0.000863557858376511],
                cellNumber: [2,0,0,2],
                stack: 'P3',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.0192307692307692,0.0588235294117647,0,0.14119170984456],
                cellNumber: [2,3,0,327],
                stack: 'P3',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.470588235294118,0.428571428571429,0.584615384615385,0.748333333333333],
                cellNumber: [16,12,38,449],
                stack: 'P4',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0,0,0.0615384615384615,0.0283333333333333],
                cellNumber: [0,0,4,17],
                stack: 'P4',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.235294117647059,0.178571428571429,0.138461538461538,0.0216666666666667],
                cellNumber: [8,5,9,13],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.176470588235294,0.321428571428571,0.0307692307692308,0.095],
                cellNumber: [6,9,2,57],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0588235294117647,0.0357142857142857,0.0153846153846154,0.00666666666666667],
                cellNumber: [2,1,1,4],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.0294117647058824,0,0,0.00166666666666667],
                cellNumber: [1,0,0,1],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0294117647058824,0,0.0461538461538462,0.0566666666666667],
                cellNumber: [1,0,3,34],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0,0,0.0461538461538462,0.01],
                cellNumber: [0,0,3,6],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0,0.0357142857142857,0.0153846153846154,0.00666666666666667],
                cellNumber: [0,1,1,4],
                stack: 'P4',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0,0,0.0153846153846154,0.005],
                cellNumber: [0,0,1,3],
                stack: 'P4',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0.0153846153846154,0.00166666666666667],
                cellNumber: [0,0,1,1],
                stack: 'P4',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0,0.0307692307692308,0.0183333333333333],
                cellNumber: [0,0,2,11],
                stack: 'P4',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.554545454545455,0.494047619047619,0.590643274853801,0.386792452830189],
                cellNumber: [122,83,101,41],
                stack: 'P5',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0818181818181818,0.0952380952380952,0.12280701754386,0.10377358490566],
                cellNumber: [18,16,21,11],
                stack: 'P5',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.118181818181818,0.0535714285714286,0.111111111111111,0.0283018867924528],
                cellNumber: [26,9,19,3],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.122727272727273,0.101190476190476,0.0760233918128655,0.19811320754717],
                cellNumber: [27,17,13,21],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0.0297619047619048,0.0175438596491228,0.122641509433962],
                cellNumber: [0,5,3,13],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0.0119047619047619,0,0],
                cellNumber: [0,2,0,0],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0454545454545455,0.101190476190476,0.0350877192982456,0.0660377358490566],
                cellNumber: [10,17,6,7],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0227272727272727,0.0416666666666667,0,0.0471698113207547],
                cellNumber: [5,7,0,5],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0,0.0416666666666667,0.0233918128654971,0],
                cellNumber: [0,7,4,0],
                stack: 'P5',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0181818181818182,0.0238095238095238,0.0175438596491228,0.0283018867924528],
                cellNumber: [4,4,3,3],
                stack: 'P5',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0.0272727272727273,0,0,0.00943396226415094],
                cellNumber: [6,0,0,1],
                stack: 'P5',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.00909090909090909,0.00595238095238095,0.00584795321637427,0.00943396226415094],
                cellNumber: [2,1,1,1],
                stack: 'P5',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.481481481481481,0.505102040816326,0.486486486486487,0.791666666666667],
                cellNumber: [52,99,36,874],
                stack: 'P6',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0555555555555556,0.0102040816326531,0.0405405405405405,0.0380434782608696],
                cellNumber: [6,2,3,42],
                stack: 'P6',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.361111111111111,0.321428571428571,0.432432432432432,0.0597826086956522],
                cellNumber: [39,63,32,66],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0462962962962963,0.102040816326531,0.027027027027027,0.0289855072463768],
                cellNumber: [5,20,2,32],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.00925925925925926,0.0102040816326531,0,0.0036231884057971],
                cellNumber: [1,2,0,4],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0,0,0],
                cellNumber: [0,0,0,0],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.037037037037037,0.0153061224489796,0.0135135135135135,0.0208333333333333],
                cellNumber: [4,3,1,23],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0,0,0,0.00543478260869565],
                cellNumber: [0,0,0,6],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0,0.0153061224489796,0,0.0072463768115942],
                cellNumber: [0,3,0,8],
                stack: 'P6',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0,0.0204081632653061,0,0.0199275362318841],
                cellNumber: [0,4,0,22],
                stack: 'P6',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0.000905797101449275],
                cellNumber: [0,0,0,1],
                stack: 'P6',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.00925925925925926,0,0,0.0235507246376812],
                cellNumber: [1,0,0,26],
                stack: 'P6',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.476190476190476,0.527859237536657,0.423931623931624,0.605577689243028],
                cellNumber: [100,180,248,608],
                stack: 'P7',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0285714285714286,0.0381231671554252,0.0376068376068376,0.049800796812749],
                cellNumber: [6,13,22,50],
                stack: 'P7',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.223809523809524,0.19941348973607,0.2,0.195219123505976],
                cellNumber: [47,68,117,196],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.19047619047619,0.105571847507331,0.147008547008547,0.0547808764940239],
                cellNumber: [40,36,86,55],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0238095238095238,0.0381231671554252,0.0376068376068376,0.0119521912350598],
                cellNumber: [5,13,22,12],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.00952380952380952,0.00586510263929619,0.0102564102564103,0.00398406374501992],
                cellNumber: [2,2,6,4],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0142857142857143,0.0527859237536657,0.116239316239316,0.0627490039840637],
                cellNumber: [3,18,68,63],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0142857142857143,0.0117302052785924,0.011965811965812,0.0119521912350598],
                cellNumber: [3,4,7,12],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.0142857142857143,0,0.00512820512820513,0.00099601593625498],
                cellNumber: [3,0,3,1],
                stack: 'P7',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.00476190476190476,0.0175953079178886,0.00854700854700855,0.00199203187250996],
                cellNumber: [1,6,5,2],
                stack: 'P7',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0.00293255131964809,0,0.00099601593625498],
                cellNumber: [0,1,0,1],
                stack: 'P7',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0,0.00170940170940171,0],
                cellNumber: [0,0,1,0],
                stack: 'P7',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.590909090909091,0.571428571428571,0.545454545454545,0.523809523809524],
                cellNumber: [26,12,12,22],
                stack: 'P8',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0,0.0476190476190476,0,0.0714285714285714],
                cellNumber: [0,1,0,3],
                stack: 'P8',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.295454545454545,0.19047619047619,0.454545454545455,0.0238095238095238],
                cellNumber: [13,4,10,1],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0681818181818182,0.0476190476190476,0,0.119047619047619],
                cellNumber: [3,1,0,5],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0,0,0.119047619047619],
                cellNumber: [0,0,0,5],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.0227272727272727,0.0952380952380952,0,0],
                cellNumber: [1,2,0,0],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0,0.0476190476190476,0,0.0714285714285714],
                cellNumber: [0,1,0,3],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0,0,0,0.0238095238095238],
                cellNumber: [0,0,0,1],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0,0,0,0],
                cellNumber: [0,0,0,0],
                stack: 'P8',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0227272727272727,0,0,0.0476190476190476],
                cellNumber: [1,0,0,2],
                stack: 'P8',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0],
                cellNumber: [0,0,0,0],
                stack: 'P8',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0,0,0],
                cellNumber: [0,0,0,0],
                stack: 'P8',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.251748251748252,0.325,0.502994011976048,0.291666666666667],
                cellNumber: [36,13,84,21],
                stack: 'P9',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.034965034965035,0.025,0.0179640718562874,0.0277777777777778],
                cellNumber: [5,1,3,2],
                stack: 'P9',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.0559440559440559,0.25,0.0479041916167665,0.0277777777777778],
                cellNumber: [8,10,8,2],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.272727272727273,0.175,0.18562874251497,0.277777777777778],
                cellNumber: [39,7,31,20],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0629370629370629,0,0.029940119760479,0.166666666666667],
                cellNumber: [9,0,5,12],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.013986013986014,0,0.0119760479041916,0.0277777777777778],
                cellNumber: [2,0,2,2],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.132867132867133,0.075,0.0479041916167665,0.0416666666666667],
                cellNumber: [19,3,8,3],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0629370629370629,0.125,0.0898203592814371,0.0277777777777778],
                cellNumber: [9,5,15,2],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.048951048951049,0,0.0179640718562874,0.0555555555555556],
                cellNumber: [7,0,3,4],
                stack: 'P9',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.013986013986014,0.025,0,0.0138888888888889],
                cellNumber: [2,1,0,1],
                stack: 'P9',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0],
                cellNumber: [0,0,0,0],
                stack: 'P9',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.048951048951049,0,0.0479041916167665,0.0416666666666667],
                cellNumber: [7,0,8,3],
                stack: 'P9',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.205882352941176,0.0967741935483871,0.173333333333333,0.485690923957482],
                cellNumber: [42,12,26,594],
                stack: 'P10',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0441176470588235,0.0725806451612903,0.0666666666666667,0.0351594439901881],
                cellNumber: [9,9,10,43],
                stack: 'P10',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.254901960784314,0.338709677419355,0.393333333333333,0.156173344235487],
                cellNumber: [52,42,59,191],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.269607843137255,0.225806451612903,0.12,0.143090760425184],
                cellNumber: [55,28,18,175],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0.00806451612903226,0.0133333333333333,0.0228945216680294],
                cellNumber: [0,1,2,28],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.0196078431372549,0.032258064516129,0,0.00654129190515127],
                cellNumber: [4,4,0,8],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.117647058823529,0.145161290322581,0.166666666666667,0.098119378577269],
                cellNumber: [24,18,25,120],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0294117647058824,0.0161290322580645,0.02,0.0212591986917416],
                cellNumber: [6,2,3,26],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.0343137254901961,0.0241935483870968,0.02,0.0106295993458708],
                cellNumber: [7,3,3,13],
                stack: 'P10',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0196078431372549,0.0403225806451613,0,0.0122649223221586],
                cellNumber: [4,5,0,15],
                stack: 'P10',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0.000817661488143908],
                cellNumber: [0,0,0,1],
                stack: 'P10',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.00490196078431373,0,0.0266666666666667,0.00735895339329518],
                cellNumber: [1,0,4,9],
                stack: 'P10',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.394366197183099,0.370098039215686,0.305343511450382,0.334268131183298],
                cellNumber: [84,151,80,4291],
                stack: 'P11',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0140845070422535,0.0514705882352941,0.114503816793893,0.00895847939549739],
                cellNumber: [3,21,30,115],
                stack: 'P11',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.300469483568075,0.401960784313726,0.316793893129771,0.0550751733271014],
                cellNumber: [64,164,83,707],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0938967136150235,0.0490196078431373,0.0877862595419847,0.331853236737556],
                cellNumber: [20,20,23,4260],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0140845070422535,0.00245098039215686,0.0114503816793893,0.0997117706629275],
                cellNumber: [3,1,3,1280],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0.00980392156862745,0.00381679389312977,0.0131650697203396],
                cellNumber: [0,4,1,169],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.131455399061033,0.0514705882352941,0.0877862595419847,0.0959725792630677],
                cellNumber: [28,21,23,1232],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.00469483568075117,0.0122549019607843,0.00381679389312977,0.024382643919919],
                cellNumber: [1,5,1,313],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.028169014084507,0.0245098039215686,0.0343511450381679,0.0152683648827608],
                cellNumber: [6,10,9,196],
                stack: 'P11',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0140845070422535,0.0196078431372549,0.0267175572519084,0.00989327724546234],
                cellNumber: [3,8,7,127],
                stack: 'P11',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0.00469483568075117,0.00490196078431373,0.00381679389312977,0.00864688011217574],
                cellNumber: [1,2,1,111],
                stack: 'P11',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0.00245098039215686,0.00381679389312977,0.00280439354989484],
                cellNumber: [0,1,1,36],
                stack: 'P11',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.514285714285714,0.414893617021277,0.37037037037037,0.669401148482363],
                cellNumber: [198,117,40,816],
                stack: 'P12',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0961038961038961,0.117021276595745,0.12962962962963,0.0853158326497129],
                cellNumber: [37,33,14,104],
                stack: 'P12',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.0675324675324675,0.280141843971631,0.287037037037037,0.0385561936013126],
                cellNumber: [26,79,31,47],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.137662337662338,0.074468085106383,0.0740740740740741,0.0803937653814602],
                cellNumber: [53,21,8,98],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0441558441558442,0.0106382978723404,0.037037037037037,0.022149302707137],
                cellNumber: [17,3,4,27],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0.00709219858156028,0,0.00246103363412633],
                cellNumber: [0,2,0,3],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0701298701298701,0.0390070921985816,0.0277777777777778,0.0385561936013126],
                cellNumber: [27,11,3,47],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0415584415584416,0.024822695035461,0.0555555555555556,0.0410172272354389],
                cellNumber: [16,7,6,50],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.00779220779220779,0.0141843971631206,0.00925925925925926,0.00656275635767022],
                cellNumber: [3,4,1,8],
                stack: 'P12',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0181818181818182,0.0141843971631206,0,0.00246103363412633],
                cellNumber: [7,4,0,3],
                stack: 'P12',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0.000820344544708778],
                cellNumber: [0,0,0,1],
                stack: 'P12',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.0025974025974026,0.00354609929078014,0.00925925925925926,0.0123051681706317],
                cellNumber: [1,1,1,15],
                stack: 'P12',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.314031180400891,0.172932330827068,0.249388753056235,0.463299328191092],
                cellNumber: [141,92,102,1862],
                stack: 'P14',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.160356347438753,0.0996240601503759,0.0806845965770171,0.0161731774073153],
                cellNumber: [72,53,33,65],
                stack: 'P14',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.423162583518931,0.184210526315789,0.273838630806846,0.0266235381935805],
                cellNumber: [190,98,112,107],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0489977728285078,0.281954887218045,0.210268948655257,0.16596168201045],
                cellNumber: [22,150,86,667],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0022271714922049,0.0394736842105263,0.0440097799511002,0.0213983578004479],
                cellNumber: [1,21,18,86],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0,0,0.000248818113958696],
                cellNumber: [0,0,0,1],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0378619153674833,0.129699248120301,0.0684596577017115,0.196815128141329],
                cellNumber: [17,69,28,791],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.0066815144766147,0.0093984962406015,0.0171149144254279,0.0189101766608609],
                cellNumber: [3,5,7,76],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.0022271714922049,0.0112781954887218,0.0097799511002445,0.00348345359542175],
                cellNumber: [1,6,4,14],
                stack: 'P14',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0022271714922049,0.0319548872180451,0.0415647921760391,0.0189101766608609],
                cellNumber: [1,17,17,76],
                stack: 'P14',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0.0022271714922049,0.0338345864661654,0,0.00323463548146305],
                cellNumber: [1,18,0,13],
                stack: 'P14',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0.0056390977443609,0.00488997555012225,0.0649415277432197],
                cellNumber: [0,3,2,261],
                stack: 'P14',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.180094786729858,0.123222748815166,0.133858267716535,0.65143224975861],
                cellNumber: [38,26,17,2024],
                stack: 'P15',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0473933649289099,0.0710900473933649,0.0551181102362205,0.0460251046025105],
                cellNumber: [10,15,7,143],
                stack: 'P15',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.450236966824645,0.530805687203792,0.393700787401575,0.096234309623431],
                cellNumber: [95,112,50,299],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.0947867298578199,0.0805687203791469,0.165354330708661,0.0531058899259736],
                cellNumber: [20,17,21,165],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0,0.00947867298578199,0.015748031496063,0.00386224654007081],
                cellNumber: [0,2,2,12],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0,0,0.0078740157480315,0.000643707756678468],
                cellNumber: [0,0,1,2],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.0710900473933649,0.0805687203791469,0.0866141732283465,0.0624396523978114],
                cellNumber: [15,17,11,194],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.037914691943128,0.004739336492891,0.031496062992126,0.0305761184422272],
                cellNumber: [8,1,4,95],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.018957345971564,0.023696682464455,0.0236220472440945,0.00514966205342774],
                cellNumber: [4,5,3,16],
                stack: 'P15',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0616113744075829,0.0473933649289099,0.078740157480315,0.0251046025104603],
                cellNumber: [13,10,10,78],
                stack: 'P15',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0,0,0.000965561635017702],
                cellNumber: [0,0,0,3],
                stack: 'P15',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0.037914691943128,0.028436018957346,0.0078740157480315,0.0244608947537818],
                cellNumber: [8,6,1,76],
                stack: 'P15',
            },
            {
                label: 'MemB-1',
                backgroundColor: '#FDC086',
                data: [0.283950617283951,0.469387755102041,0.288888888888889,0.214839094159714],
                cellNumber: [23,46,39,721],
                stack: 'P16',
            },
            {
                label: 'MemB-2',
                backgroundColor: '#FF7F00',
                data: [0.0617283950617284,0.112244897959184,0,0.0193682955899881],
                cellNumber: [5,11,0,65],
                stack: 'P16',
            },
            {
                label: 'NaiveB',
                backgroundColor: '#66C2A5',
                data: [0.160493827160494,0.183673469387755,0.0148148148148148,0.00148986889153754],
                cellNumber: [13,18,2,5],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgA1',
                backgroundColor: '#FED9A6',
                data: [0.234567901234568,0.142857142857143,0.4,0.477949940405244],
                cellNumber: [19,14,54,1604],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgA2',
                backgroundColor: '#B3E2CD',
                data: [0.0123456790123457,0.0102040816326531,0.0296296296296296,0.0274135876042908],
                cellNumber: [1,1,4,92],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgD',
                backgroundColor: '#CAB2D6',
                data: [0.0123456790123457,0,0.0148148148148148,0.064958283671037],
                cellNumber: [1,0,2,218],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgG1',
                backgroundColor: '#E78AC3',
                data: [0.148148148148148,0.0204081632653061,0.111111111111111,0.112336114421931],
                cellNumber: [12,2,15,377],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgG2',
                backgroundColor: '#FBB4AE',
                data: [0.037037037037037,0.0204081632653061,0.0740740740740741,0.033373063170441],
                cellNumber: [3,2,10,112],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgG3',
                backgroundColor: '#FFFFB3',
                data: [0.0246913580246914,0,0.00740740740740741,0.0104290822407628],
                cellNumber: [2,0,1,35],
                stack: 'P16',
            },
            {
                label: 'Plasma-IgM',
                backgroundColor: '#999999',
                data: [0.0246913580246914,0.0306122448979592,0.0518518518518519,0.0342669845053635],
                cellNumber: [2,3,7,115],
                stack: 'P16',
            },
            {
                label: 'Plasmablast',
                backgroundColor: '#D9D9D9',
                data: [0,0.0102040816326531,0,0.00119189511323004],
                cellNumber: [0,1,0,4],
                stack: 'P16',
            },
            {
                label: 'Stressed plasma',
                backgroundColor: '#CBD5E8',
                data: [0,0,0.00740740740740741,0.00238379022646007],
                cellNumber: [0,0,1,8],
                stack: 'P16',
            },
        ],
    },
    options: {
        maintainAspectRatio: false,
        layout: {
            padding: {
                left: 10,
                right: 25,
                top: 25,
                bottom: 0,
            },
        },
        plugins: {
            title: {
                display: true,
                text: "Cell fraction:",
            },
        },
        responsive: true,
        scales: {
            xAxes: [{ stacked: true }],
            yAxes: [
                {
                    stacked: true,
                    ticks: {
                        max: 1.0,
                    },
                },
            ],
        },
        legend: { display: false },
        tooltips: {
            callbacks: {
                label: function (tooltipItem, data) {
                    return [
                        "Cell type: " +
                            data.datasets[tooltipItem.datasetIndex].label,
                        "Patient: " +
                            data.datasets[tooltipItem.datasetIndex].stack,
                        "Cell fraction: " +
                            data.datasets[tooltipItem.datasetIndex].data[
                                tooltipItem.index
                            ].toFixed(2),
                        "Cell number: " +
                            data.datasets[tooltipItem.datasetIndex].cellNumber[
                                tooltipItem.index
                            ],
                    ];
                },
            },
        },
    },
});
